!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a,i,s=n(1),o=r(s),l=n(2),u=r(l),c=n(3),d=r(c),f=n(4),p=r(f),h=d3.select("body"),v=400,x=v/2,A={top:20,right:175,bottom:10,left:10},m=v-A.left-A.right,g=x-A.top-A.bottom,y=51,E=88,b=120,B=152,C={width:v,height:x},D={width:2*v,height:2*x},L={width:0},w=2015,P=window.location.search.slice(1).split("=");if(P.length){var N=-1;P.forEach(function(t,e){"year"===t&&(N=e)}),N>-1&&(w=P[N+1])}var S=d3.range(1919,(new Date).getFullYear());(0,u["default"])(S,h),h.append("h1").text("MLB Sparklines:  "+w),d3.json("seasons-data/"+w+".json",function(t,e){if(t)throw t;var n=d3.nest().key(function(t){return t.league}).entries(e);n=(0,p["default"])(n,o["default"]);var r=d3.scale.linear().domain([0,d3.max(e,function(t){return t.games})]).range([0,m]),s=d3.min(e,function(t){return d3.min(t.results)}),l=d3.max(e,function(t){return d3.max(t.results)}),u=d3.scale.linear().domain([s,l]).range([g,0]),c=d3.svg.line().x(function(t,e){return r(e)}).y(function(t,e){return u(t)});n=(0,d["default"])(n,u);var f=h.selectAll("svg").data(n).enter().append("svg").attr("width",m+A.left+A.right).attr("height",g+A.top+A.bottom).attr("viewBox","0 0 400 200").attr("preserveAspectRatio","none").attr("data-division",function(t){return t.key}).on("click",function(){parseInt(h.style("width").replace("px",""))>400&&(this===a?N(this):S(this))}).append("g").attr("transform","translate(0, 0)");f.append("text").attr("x",A.left).attr("y",10).text(function(t){return t.key}),f.append("text").attr("y",10).attr("x",m+E+A.left).text("home"),f.append("text").attr("y",10).attr("x",m+b+A.left).text("road"),f.append("text").attr("y",10).attr("x",m+B+A.left).text("pct"),f=f.append("g").attr("transform","translate("+A.left+","+A.top+")"),f.selectAll(".line").data(function(t){return t.values}).enter().append("path").attr("class","line").attr("d",function(t){return c(t.results)}).style("stroke",function(t){return o["default"].teamColors[t.abbreviation]});var v=f.selectAll("g").data(function(t){return t.values}).enter().append("g").attr("transform","translate("+m+",0)").style("fill",function(t){return o["default"].teamColors[t.abbreviation]});v.append("text").attr("x",function(t){var e=t.results[t.results.length-1],n=-10>=e?0:0>e?5:10>e?10:5;return n}).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return t.results[t.results.length-1]}),v.append("text").attr("x",20).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return t.abbreviation}),v.append("text").attr("x",function(t){var e=0;return(t.wins>99||t.losses>99)&&(e=-5),y+e}).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return t.wins+"–"+t.losses}),v.append("text").attr("x",E).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return t.winsHome+"–"+t.lossesHome}),v.append("text").attr("x",b).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return t.winsRoad+"–"+t.lossesRoad}),v.append("text").attr("x",B).attr("y",function(t){return t.labelPosition}).attr("class","team").text(function(t){return(t.wins/t.games).toFixed(3).slice(1)});var w=d3.select("body").style("width").replace("px","");if(w%400!==0){var P=200*(w/x)/2;d3.selectAll("svg").transition().attr({width:w,height:P}),d3.selectAll("svg").on("click",null)}d3.selectAll("svg").style("opacity",1);var N=function(t,e,n){i&&d3.select(i).transition().attr(C),d3.select(t).transition().attr(C).each("end",function(){a=i=null,e&&e(n)})},S=function O(t){return a?void N(a,O,t):(i=M(t)?t.previousSibling:t.nextSibling,a=t,d3.select(t).transition().attr(D),void(i&&d3.select(i).transition().attr(L)))},M=function(t){return t.getAttribute("data-division").indexOf("AL")>-1}})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={ARI:"#C31734",ATL:"#003770",BSN:"#003770",MLN:"#003770",BAL:"#F05D35",MLA:"#F05D35",SLB:"#F05D35",BOS:"#BB4249",CHC:"#0F5A8A",CHW:"#3C3B3B",CIN:"#B5404B",CLE:"#B5404B",COL:"#28358A",DET:"#032B5B",HOU:"#E96E2D",KCR:"#084D8C",ANA:"#D01746",LAA:"#D01746",CAL:"#D01746",LAD:"#0A5796",BRO:"#0A5796",FLA:"#0C6C67",MIA:"#0C6C67",MIL:"#02255B",SEP:"#02255B",MIN:"#D11748",WSH:"#D11748",NYM:"#F37D3C",NYY:"#424958",OAK:"#05483A",PHA:"#05483A",KCA:"#05483A",PHI:"#7DBDE6",PIT:"#FEC23B",SDP:"#032F60",SFG:"#EB7E4B",NYG:"#EB7E4B",SEA:"#0C6C67",STL:"#D11848",TBD:"#7DBDE6",TBR:"#7DBDE6",TEX:"#084D8C",WSA:"#084D8C",TOR:"#0E69B0",WSN:"#D11848",MON:"#D11848"},r={"NL East":0,"AL East":1,"NL West":2,"AL West":3},a={"NL Central":0,"AL Central":1,"NL East":2,"AL East":3,"NL West":4,"AL West":5};e["default"]={teamColors:n,divisionEra:r,wildCardEra:a}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=e.append("div").attr("class","year-button").text("Change Year"),r=e.append("div").attr("class","year-container hidden");r.selectAll(".year").data(t).enter().append("div").attr("class","year").append("a").attr("href",function(t){return"?year="+t}).html(function(t){return t}),n.on("click",function(t){r.classed("hidden")?r.classed("hidden",!1):r.classed("hidden",!0)})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=[],r={},a=12;return t.forEach(function(t){var r=t.values.map(function(t){var n={name:t.abbreviation,pos:e(t.results[t.results.length-1]),shifted:!1};return n});r.sort(function(t,e){return t.pos-e.pos}),n.push(r)}),n.forEach(function(t){t.forEach(function(e,n){if(r[e.name]=e.pos,n<t.length-1){var i=e.pos,s=t[n+1].pos,o=s-i;if(a>o){var l=(a-o)/2;e.pos<l||e.shifted?(t[n+1].pos+=2*l,t[n+1].shifted=!0):(e.pos-=l,t[n+1].pos+=l,t[n+1].shifted=!0),r[e.name]=e.pos,r[t[n+1].name]=t[n+1].pos}}})}),t.forEach(function(t){t.values.forEach(function(t){t.labelPosition=r[t.abbreviation]})}),t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){if(2===t.length&&"AL"===t[0].key&&t.reverse(),4===t.length){var n=t.map(function(t){return t.key}),r=n.map(function(t){return e.divisionEra[t]}),a=[];t.forEach(function(t,e){a[r[e]]=t}),t=a}if(6===t.length){var n=t.map(function(t){return t.key}),r=n.map(function(t){return e.wildCardEra[t]}),a=[];t.forEach(function(t,e){a[r[e]]=t}),t=a}return t}}]);